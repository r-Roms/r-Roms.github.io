{"version":3,"file":"keyedPool.js","names":["Duration","Equal","dual","pipe","Hash","HashMap","MutableRef","Option","pipeArguments","Predicate","core","fiberRuntime","pool","KeyedPoolSymbolKey","KeyedPoolTypeId","Symbol","for","KeyedPoolMapValueSymbol","keyedPoolVariance","_K","_","_E","_A","KeyedPoolImpl","getOrCreatePool","activePools","constructor","get","key","flatMap","invalidate","item","forEachSequentialDiscard","arguments","Complete","_tag","symbol","string","combine","hash","cached","u","isComplete","equals","isTagged","Pending","deferred","isPending","makeImpl","min","max","timeToLive","all","context","fiberId","sync","make","empty","scopeMake","map","scope","suspend","value","getOrUndefined","undefined","uninterruptibleMask","restore","deferredUnsafeMake","previous","has","update","set","scopeExtend","makeWithTTL","acquire","provideContext","getOrElse","infinity","matchCauseEffect","onFailure","cause","current","remove","zipRight","deferredFailCause","failCause","onSuccess","as","deferredSucceed","succeed","deferredAwait","forEachSequential","toValues","options","size","none","makeWith","decode","some","makeWithTTLBy","self"],"sources":["../../../src/internal/keyedPool.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}